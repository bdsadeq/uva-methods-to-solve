<div data-page="02" class="page">
    <div class="navbar">
        <div class="navbar-inner">
            <div class="left"><a href="index.html" class="back link icon-only"><i class="icon icon-back"></i></a></div>
            <div class="center">Maximum sum</div>
        </div>
    </div>

    <div class="page-content">
        <div class="content-block">
            <pre>
/***************
 * Maximum sum *
 ***************
 * Given an array of integers on stdin, find the sub-array
 * [i, j] containing the largest sum, favouring longer ranges,
 * then smaller indices. This one only considers non-negative
 * sums. Best sum and range are returned through pointers.
 * #include <stdio.h>
 **/
void maximumSum( int *bestSum, int *first, int *last )
{
    int start = -1; sum = 0; best = -1; besti = -1; bestj = -1;
    scanf( "%d", &n );          // Size of input array
    for( i = 1; i < n; i++ )
    {
        scanf( "%d", &edge );   // ( Input array )[i - 1];
        if( start < 0 ) { if( edge < 0 ) continue; else start = i; }
        if( edge > 0 && sum < 0 ) { start = i; sum = 0; }
        sum += edge;
        if( edge > 0 && sum >= best )
        {
            if( sum > best || i - start > bestj - besti )
            {
                besti = start;
                bestj = i;
                best = sum;
            }
        }
    }

    *bestSum = best;
    if( best >= 0 ) { *first = besti - 1; *last = bestj; }
}
            </pre>
        </div>
    </div>
</div>
